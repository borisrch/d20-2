!function(e){var a={};function t(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var o in e)t.d(n,o,function(a){return e[a]}.bind(null,o));return n},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=8)}([function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={playerHealth:0,playerArmour:0,playerDamage:0,playerRunic:0,playerMana:0,playerHitChanceModifier:0,playerLevel:0,playerClass:"null",playerMaxMana:100,monsterHealth:0,monsterArmour:0,monsterDamage:0,monsterRage:0,monsterName:null,gold:0}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.alzursThunderCondition={turns:0},a.deathfireGraspCondition={active:!1},a.runicEchoesCondition={active:!1,bonusArmour:0},a.sapphireAmuletCondition={active:!1},a.dwarfTankCondition={active:!1,bonusArmour:0},a.playerDisadvantage={active:!0},a.monsterDead={active:!1}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.DEV=!0},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.log=function(e,a){var t=function(e){switch(e){case"mb":return"log log-monster-basic animated slideInDown";case"ms":return"log log-monster-spell animated bounceIn";case"miss":return"log log-miss animated slideInDown";case"miss-player":return"log log-player-miss animated slideInDown";case"info":return"log log-info animated slideInDown";case"victory":return"log log-victory animated bounceInDown";case"defeat":return"log log-defeat animated bounceInDown";case"pb":return"log log-player-basic animated slideInDown";case"ps":return"log log-player-spell animated bounceIn";case"ps-scorch":return"log log-player-spell animated tada";case"ps-thunder":return"log log-player-spell animated flash";case"ps-grasp":return"log log-player-spell animated swing";case"ps-echoes":return"log log-player-spell animated slideInDown";default:console.log("Error in styleHandler")}}(a),n=$(".list").children().length,o=$("<li>"+e+"</li>").addClass(t);n<8?$("ul.list").prepend(o):($(".list li").last().remove(),$("ul.list").prepend(o))}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.getRandomInt=a.pureAttack=a.attack=a.bonus=a.roll=void 0;var n=t(2),o=t(1),r=function(){throw new Error("Missing Paramater")},l=a.roll=function(e){var a=Math.floor(e);return Math.floor(Math.random()*(a-1+1))+1};a.bonus=function(e,a){for(var t=0,n=0;n<e;n++)t+=l(a);return t},a.attack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(),t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r(),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r(),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r(),d=0;o.alzursThunderCondition.turns>0&&(d+=l(4),o.alzursThunderCondition.turns--),n.DEV&&(console.log("@Attack"),console.log("Damage: "+e+" HitChance: "+a+" DamageMod "+t+" Multiplier: "+s+" Armour: "+i),console.log("Extra Spell Damage: "+d));var u=0,c=l(20)+a;if(!0===o.playerDisadvantage.active){var p=l(20)+a;n.DEV&&console.log("Disadvantaged - hit: "+c+", hitSecond: "+p),p<c&&(c=p),o.playerDisadvantage.active=!1}if(c>=i){for(var m=0;m<s;m++)u+=l(e);return(u+=t)+d}return null},a.pureAttack=function(e,a,t,o,r){n.DEV&&(console.log("@PureAttack"),console.log("Damage: "+e+" HitChance: "+a+" DamageMod "+t+" Multiplier: "+o+" Armour: "+r));var s=0;if(l(20)+a>=r){for(var i=0;i<o;i++)s+=l(e);return s+=t}return null},a.getRandomInt=function(e){return Math.floor(Math.random()*Math.floor(e))}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.setShopItem=a.getGold=a.potions=a.trinket_desc=a.selectTrinket=a.amulet_desc=a.selectAmulet=a.wand_desc=a.selectWeapon=void 0;var n,o=t(0),r=(n=o)&&n.__esModule?n:{default:n},l=t(1);t(4);var s='<span class="ra ra-shield colour-ac"></span>',i='<span class="ra ra-crystals colour-runic-tip"></span>',d='<span class="ra ra-lightning-bolt colour-mana"></span>',u=(a.selectWeapon=function(e){switch(e){case"Oak Wand":r.default.playerRunic=2,r.default.playerHitChanceModifier=0;break;case"Ebony Wand":r.default.playerRunic=3,r.default.playerHitChanceModifier=2;break;case"Elder Wand":r.default.playerRunic=4,r.default.playerHitChanceModifier=3;break;default:throw new Error("Error at selectWeapon")}},"<h2>Equip Wand</h2> <b>Oak Wand</b>: +2 to "+i+" . <br>"),c="<b>Ebony Wand</b>: +2 to hit chance,  +3 to "+i+" . <br>",p=(a.wand_desc=[u,u+c,u+c+'<b>Elder Wand</b>: +3 to hit chance,  +4 to <span class="ra ra-crystals colour-runic-tip"></span> . <br>'],a.selectAmulet=function(e){switch(e){case"None":l.sapphireAmuletCondition.active=!1;break;case"Sapphire Amulet":l.sapphireAmuletCondition.active=!0;break;case"Emerald Amulet":l.sapphireAmuletCondition.active=!1,r.default.playerArmour=r.default.playerArmour+2;break;case"Ruby Amulet":break;default:throw new Error("Error at selectAmulet")}},"<h2>Equip Amulet</h2> <b>Sapphire Amulet</b>: +25 to maximum "+d+".<br>"),m="<b>Emerald Amulet</b>: +2 to "+s+".<br>",f=(a.amulet_desc=[p,p+m,p+m+"<b>Ruby Amulet</b>: +15% lifesteal. <br>"],a.selectTrinket=function(e){switch(e){case"None":case"Magical Stick":case"Cursed Locket":case"Ancient Coin":case"Null Sphere":break;default:throw new Error("Error at selectTrinket")}},"<h2>Equip Trinket</h2> <b>Slightly Magical Stick</b>: +1 to "+i+".<br>"),g="<b>Susannah's Cursed Locket</b>: +2 to "+i+" but -2 to "+s+".<br>",h="<b>Ancient Coin</b>: +3 to "+i+' and <span class="ra ra-sword colour-damage-tip"></span> but -5 to '+s+".<br>";a.trinket_desc=[f,f+g,f+g+h,f+g+h+'<b>Null Sphere</b>: -25 % to <span class="ra ra-lightning-bolt colour-mana"></span> cost. <br>'],a.potions=[{name:"Healing Potion",desc:"Heals for 1d10 + 10 HP.",icon:"ra-heart-bottle",style:"potion-health",cost:"15",id:"buy-health"},{name:"Defense Potion",desc:"Increases AC by 1d6 for next 4 turns.",icon:"ra-round-bottom-flask",style:"potion-defense",cost:"15",id:"buy-defense"},{name:"Accuracy Potion",desc:"Increases hit chance by 1d4 for next 4 turns.",icon:"ra-corked-tube",style:"potion-accuracy",cost:"25",id:"buy-accuracy"},{name:"PP Potion",desc:"Restores 50 PP.",icon:"ra-bubbling-potion",style:"potion-pp",cost:"50",id:"buy-pp"},{name:"Runic Potion",desc:"Grants 1d4 bonus Runic for next 4 turns.",icon:"ra-fizzing-flask",style:"potion-runic",cost:"75",id:"buy-runic"}],a.getGold=function(){return"<div>Current gold: "+r.default.gold+"</div>"},a.setShopItem=function(e,a,t,n,o,r){var l=document.createElement("div");l.classList.add("shop-desc");var s=document.createElement("p");s.innerText=e+": ";var i=document.createElement("p");i.innerText=a;var d=document.createElement("span");d.classList.add("ra"),d.classList.add(t),d.classList.add(n),d.classList.add("shop-icon");var u=document.createElement("p");u.innerText=o+" gold.";var c=document.createElement("button");c.innerText="Buy",c.classList.add("spell-potion"),c.setAttribute("id",r);var p=document.createElement("div");p.classList.add("shop-item"),s.appendChild(i),l.appendChild(s),p.appendChild(d),p.appendChild(l),p.appendChild(u),p.appendChild(c),document.getElementById("shop").appendChild(p)}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.costCheck=a.manaCheck=void 0;var n,o=t(0),r=(n=o)&&n.__esModule?n:{default:n},l=t(3),s=t(2);a.manaCheck=function(e,a){s.DEV&&console.log("mana: "+r.default.playerMana+" cost: "+e),r.default.playerMana<e?(0,l.log)("Not enough PP to cast.","info"):a()},a.costCheck=function(e,a,t){r.default.gold<e?(0,l.log)("Not enough gold to buy "+t):(r.default.gold=r.default.gold-e,a())}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.disable=function(){$(".basic-attack").prop("disabled",!0),$(".q").prop("disabled",!0),$(".w").prop("disabled",!0),$(".e").prop("disabled",!0),$(".r").prop("disabled",!0),$("#equipment-weapon").prop("disabled",!0),$("#equipment-amulet").prop("disabled",!0),$("#equipment-trinket").prop("disabled",!0),$("#equipment-shop").prop("disabled",!0)},a.enable=function(){$(".basic-attack").prop("disabled",!1),$(".q").prop("disabled",!1),$(".w").prop("disabled",!1),$(".e").prop("disabled",!1),$(".r").prop("disabled",!1),$("#equipment-weapon").prop("disabled",!1),$("#equipment-amulet").prop("disabled",!1),$("#equipment-trinket").prop("disabled",!1),$("#equipment-shop").prop("disabled",!1)}},function(e,a,t){"use strict";var n,o=t(4),r=t(3),l=t(7),s=t(2),i=t(0),d=(n=i)&&n.__esModule?n:{default:n},u=t(6),c=t(5),p=t(1);s.DEV&&(0,r.log)("BUILD ALPHA 0.2.26 - Amulet, Trinket, Wand","info");var m=[{name:"Oak Wand",type:"weapon",gold:1,desc:0},{name:"Sapphire Amulet",type:"amulet",gold:15,desc:0},{name:"Magical Stick",type:"trinket",gold:50,desc:0},{name:"Ebony Wand",type:"weapon",gold:1,desc:1},{name:"Emerald Amulet",type:"amulet",gold:1,desc:1},{name:"Cursed Locket",type:"trinket",gold:1,desc:1},{name:"Elder Wand",type:"weapon",gold:1,desc:2},{name:"Ruby Amulet",type:"amulet",gold:1,desc:2},{name:"Ancient Coin",type:"trinket",gold:1,desc:2},{name:"Null Sphere",type:"trinket",gold:1,desc:3}],f={name:"Cuck, the Chicken",monsterHealth:10,monsterArmour:0,monsterDamage:2,monsterRage:0,src:"res/mobs/chicken.png",turn:function(){this.basicAttack()},basicAttack:function(){var e=(0,o.pureAttack)(d.default.monsterDamage,0,0,1,d.default.playerArmour);null!=e?(v(e),(0,r.log)("Chicken hits for "+e+" damage!","mb")):(0,r.log)("Chicken missed.","miss"),k(e)}},g={name:"Wormface, the Goblin",monsterHealth:20,monsterArmour:4,monsterDamage:4,monsterRage:0,src:"res/mobs/goblin.png",names:["Wormface","Grubhead","Fartbreath","Poopnose","Wormhair"],turn:function(){var e=(0,o.roll)(100);s.DEV&&(console.log("@GoblinTurn"),console.log("Goblin Abilty Chance "+e)),e>75?this.goblinSpit():this.basicAttack()},basicAttack:function(){var e=(0,o.pureAttack)(d.default.monsterDamage,0,0,1,d.default.playerArmour);null!=e?(v(e),(0,r.log)("Goblin hits for "+e+" damage!","mb")):(0,r.log)("Goblin missed.","miss"),k(e)},goblinSpit:function(){var e=(0,o.pureAttack)(d.default.monsterDamage,1,0,1,d.default.playerArmour);null!=e?(v(e),(0,r.log)("Goblin uses <i>Goblin Spit</i> for "+e+" damage!","ms")):(0,r.log)("Goblin missed.","miss"),k(e)}},h={name:"Gimli, the Dwarf",monsterHealth:30,monsterArmour:8,monsterDamage:6,monsterRage:0,src:"res/mobs/dwarf.png",turn:function(){if(d.default.monsterRage>40)s.DEV&&console.log("@Dwarf Rage"),d.default.monsterRage=0,this.dwarfSmash();else{d.default.monsterRage=d.default.monsterRage+10;var e=(0,o.roll)(100);s.DEV&&(console.log("@DwarfTurn"),console.log("Dwarf ability chance "+e)),e>75?this.dwarfTank():this.basicAttack()}},basicAttack:function(){var e=(0,o.pureAttack)(d.default.monsterDamage,0,0,1,d.default.playerArmour);null!=e?(v(e),(0,r.log)("Dwarf hits for "+e+" damage!","mb")):(0,r.log)("Dwarf missed.","miss"),k(e)},dwarfTank:function(){p.dwarfTankCondition.bonusArmour=4,p.dwarfTankCondition.active=!0,d.default.monsterArmour=d.default.monsterArmour+p.dwarfTankCondition.bonusArmour,(0,r.log)("Dwarf uses <i>Dwarven Resilience</i> and buffs AC by 4!","ms"),k()},dwarfSmash:function(){var e=(0,o.pureAttack)(d.default.monsterDamage+4,0,0,1,d.default.playerArmour);null!=e?(v(e),(0,r.log)("Dwarf uses <i>Dwarven Smash</i> for "+e+" damage!","ms")):(0,r.log)("Dwarf missed.","miss"),k(e)}},y={name:"Radagast, the Ent",monsterHealth:40,monsterArmour:6,monsterDamage:10,monsterRage:0,src:"res/mobs/ent.png",turn:function(){d.default.monsterRage>50?this.growth():(0,o.roll)(100)>50?this.vine():this.basicAttack()},basicAttack:function(){d.default.monsterRage+=20;var e=(0,o.pureAttack)(d.default.monsterDamage,0,0,1,d.default.playerArmour);null!=e?(v(e),(0,r.log)("Ent hits for "+e+" damage!","mb")):(0,r.log)("Ent missed.","miss"),k(e)},growth:function(){var e=(0,o.roll)(3);if(100===d.default.monsterRage&&(e=3),3===e){var a=d.default.monsterRage/10;d.default.monsterHealth=d.default.monsterHealth+a,s.DEV&&console.log("Extra: "+a),d.default.monsterRage=0,(0,r.log)("Ent uses <i>Growth</i> and heals for "+a+" damage!","ms"),k()}else this.basicAttack()},vine:function(){p.playerDisadvantage.active=!0,(0,r.log)("Ent uses <i>Vine Trip</i> and makes you disadvantaged for next turn!","ms"),k()}},b=function(e){s.DEV&&console.log("@monsterHealthHelper result:"+e),d.default.monsterHealth-e<=0?(d.default.monsterHealth=0,(0,r.log)("You have slain "+d.default.monsterName+"!","victory"),q(),p.monsterDead.active=!0):d.default.monsterHealth=d.default.monsterHealth-e},v=function(e){d.default.playerHealth-e<=0?(d.default.playerHealth=0,(0,r.log)("You died to "+A.name+"!","ms")):d.default.playerHealth=d.default.playerHealth-e},C=function(e){e&&$(".monster-health").addClass("animated jello"),1==p.runicEchoesCondition.active&&$(".player-armour").addClass("colour-mana-add"),1==p.dwarfTankCondition.active&&(p.dwarfTankCondition.active=!1,d.default.monsterArmour=d.default.monsterArmour-p.dwarfTankCondition.bonusArmour),$(".player-graphic").addClass("poke-right"),1==p.monsterDead.active?($(".monster-graphic").addClass("spawn"),p.monsterDead.active=!1):$(".monster-graphic").addClass("monster-flail"),1==p.sapphireAmuletCondition.active?d.default.playerMaxMana=125:d.default.playerMaxMana=100,d.default.playerMana+25>=d.default.playerMaxMana?d.default.playerMana=d.default.playerMaxMana:(d.default.playerMana=d.default.playerMana+25,$(".player-mana").addClass("colour-mana-add")),E(),(0,l.disable)(),setTimeout(function(){$(".monster-health").removeClass("animated jello")},500),setTimeout(function(){$(".player-graphic").removeClass("poke-right"),$(".monster-graphic").removeClass("monster-flail"),$(".monster-graphic").removeClass("spawn")},500),setTimeout(function(){$(".player-mana").removeClass("colour-mana-add"),$(".player-armour").removeClass("colour-mana-add")},1e3),setTimeout(function(){A.turn()},1500)},k=function(e){e&&$(".player-health").addClass("animated jello"),d.default.monsterRage>0&&$(".monster-rage").addClass("colour-rage-add"),1==p.dwarfTankCondition.active&&$(".monster-armour").addClass("colour-rage-add"),1==p.runicEchoesCondition.active&&(d.default.playerArmour=d.default.playerArmour-p.runicEchoesCondition.bonusArmour,p.runicEchoesCondition.active=!1),$(".monster-graphic").addClass("poke-left"),$(".player-graphic").addClass("player-flail"),E(),setTimeout(function(){$(".player-health").removeClass("animated jello"),$(".monster-armour").removeClass("colour-rage-add"),$(".monster-rage").removeClass("colour-rage-add")},500),setTimeout(function(){$(".monster-graphic").removeClass("poke-left"),$(".player-graphic").removeClass("player-flail")},750),setTimeout(function(){(0,l.enable)()},500)},A=void 0,w=function(){d.default.playerHealth=100,d.default.playerDamage=10,d.default.playerArmour=8,d.default.playerRunic=2,d.default.playerMana=100,$(".q").addClass("spell spell-dragon-breath"),$(".qi").addClass("ra ra-dragon-breath icon"),$(".w").addClass("spell spell-lightning-trio"),$(".wi").addClass("ra ra-lightning-trio icon"),$(".e").addClass("spell spell-frostfire"),$(".ei").addClass("ra ra-frostfire icon"),$(".r").addClass("spell spell-fire-shield"),$(".ri").addClass("ra ra-fire-shield icon"),_.setContent(c.wand_desc[0]),_.addFooterBtn("Oak Wand","spell-equipment wand-button",function(){(0,c.selectWeapon)("Oak Wand"),E(),_.close()}),x.setContent("<h2>Select Amulet</h2><p>You don't have any amulets yet."),x.addFooterBtn("None","spell-amulet",function(){(0,c.selectAmulet)("None"),E(),x.close()}),I.setContent("<h2>Select Trinket</h2><p>You don't have any trinkets yet."),I.addFooterBtn("None","spell-trinket",function(){E(),I.close()}),L.setContent('<div class="shop-interface" id="shop"></div>'),c.potions.forEach(function(e){(0,c.setShopItem)(e.name,e.desc,e.icon,e.style,e.cost,e.id)}),document.getElementById("buy-health").addEventListener("click",function(){G()}),L.setFooterContent((0,c.getGold)()),document.getElementById("equipment-weapon").addEventListener("click",function(){_.open()}),document.getElementById("equipment-amulet").addEventListener("click",function(){x.open()}),document.getElementById("equipment-trinket").addEventListener("click",function(){I.open()}),document.getElementById("equipment-shop").addEventListener("click",function(){c.potions.forEach(function(e){var a=document.getElementById(e.id);d.default.gold<parseInt(e.cost)?a.disabled=!0:a.disabled=!1}),L.setFooterContent((0,c.getGold)()),L.open()}),document.getElementById("basic-attack").addEventListener("click",function(){!function(){p.deathfireGraspCondition.active=!1;var e=(0,o.attack)(d.default.playerDamage,d.default.playerHitChanceModifier,0,1,d.default.monsterArmour);null!=e?((0,r.log)("You hit for "+e+" damage!","pb"),b(e)):(0,r.log)("You missed.","miss-player"),C(e)}()}),document.getElementById("q").addEventListener("click",function(){(0,u.manaCheck)(75,T)}),document.getElementById("w").addEventListener("click",function(){(0,u.manaCheck)(100,R)}),document.getElementById("e").addEventListener("click",function(){(0,u.manaCheck)(50,P)}),document.getElementById("r").addEventListener("click",function(){(0,u.manaCheck)(25,S)})},E=function(){$(".player-health").text(d.default.playerHealth),$(".player-damage").text(d.default.playerDamage),$(".player-armour").text(d.default.playerArmour),$(".player-runic").text(d.default.playerRunic),$(".player-mana").text(d.default.playerMana),$(".monster-health").text(d.default.monsterHealth),$(".monster-armour").text(d.default.monsterArmour),$(".monster-damage").text(d.default.monsterDamage),$(".monster-rage").text(d.default.monsterRage),$(".monster-label").text(d.default.monsterName)},D=function(){var e="title";$(".player-damage-tip").prop(e,"Damage attribute affects basic attack and spell damage."),tippy(".player-damage-tip");$(".player-armour-tip").prop(e,"Armour class represents how hard it is for opponents to land an attack or spell on you."),tippy(".player-armour-tip");$(".player-runic-tip").prop(e,"Runic attribute improves spells and their effects."),tippy(".player-runic-tip");$(".player-mana-tip").prop(e,"PP represents the cost for casting spells. 25 PP is recharged per turn."),tippy(".player-mana-tip");$(".monster-rage-tip").prop(e,"Rage is aquired over time, and allows Monsters to have additional spells and effects."),tippy(".monster-rage-tip");$("#equipment-weapon").prop(e,"Switch Weapon - Weapons affect your hit chance."),tippy("#equipment-weapon");$("#equipment-amulet").prop(e,'Switch Amulet - Amulets can affect <span class="ra ra-sword colour-damage-tip"></span> and <span class="ra ra-shield colour-ac"></span> .'),tippy("#equipment-amulet");$("#equipment-trinket").prop(e,"Switch Trinket - Trinkets affect all attributes."),tippy("#equipment-trinket");$("#equipment-shop").prop(e,"Browse Shop - Buy potions with gold."),tippy("#equipment-shop")},M=function(){var e='<span class="ra ra-sword colour-damage-tip"></span>',a="<b>Basic Attack</b> - Deal 1d"+d.default.playerDamage+" "+e+" .";$(".basic-attack").prop("title",a),tippy(".basic-attack");$(".q").prop("title",'<b>Scorch (75 PP)</b> - Ignore 1d2 <span class="ra ra-shield colour-ac"></span> and deal 1d10 <span class="ra ra-sword colour-damage-tip"></span>. Ignore an additional 1d2 <span class="ra ra-shield colour-ac"></span> per <span class="ra ra-crystals colour-runic-tip"></span> level.'),tippy(".q");$(".w").prop("title",'<b>Alzur\'s Thunder (100 PP)</b> - Deal 2d4 <span class="ra ra-sword colour-damage-tip"></span> and apply <i>Shocked</i>. Shock deals bonus 1d4 <span class="ra ra-sword colour-damage-tip"></span> for <span class="ra ra-crystals colour-runic-tip"></span> turns.'),tippy(".w");$(".e").prop("title",'<b>Malevolence (50 PP)</b> - Deal 1d10 <span class="ra ra-sword colour-damage-tip"></span> . Consecutive Malevolence casts deal bonus 1d2 <span class="ra ra-sword colour-damage-tip"></span> per <span class="ra ra-crystals colour-runic-tip"></span> level.'),tippy(".e");$(".r").prop("title",'<b>Runic Echoes (25 PP)</b> - Increase <span class="ra ra-shield colour-ac"></span> by 1d2 per <span class="ra ra-crystals colour-runic-tip"></span> level for the next turn.'),tippy(".r")},H=function(){d.default.monsterArmour=f.monsterArmour,d.default.monsterDamage=f.monsterDamage,d.default.monsterHealth=f.monsterHealth,d.default.monsterRage=0,d.default.monsterName=f.name,A=f},T=function(){d.default.playerMana=d.default.playerMana-75,p.deathfireGraspCondition.active=!1;var e=(0,o.roll)(2),a=(0,o.bonus)(d.default.playerRunic,2),t=e+a;s.DEV&&(console.log("Scorch base AC-ignore roll: "+e),console.log("Scorch bonus AC-ignore roll: "+a));var n=(0,o.attack)(10,d.default.playerHitChanceModifier,0,1,d.default.monsterArmour-t);null!=n?((0,r.log)("You <i>Scorch</i> for "+n+" damage!","ps-scorch"),b(n)):(0,r.log)("You missed Scorch!","miss-player"),C(n)},R=function(){d.default.playerMana=d.default.playerMana-100,s.DEV&&(console.log("@AlzursThunder"),console.log("Extra turns: "+p.alzursThunderCondition.turns));var e=(0,o.attack)(4,d.default.playerHitChanceModifier,0,2,d.default.monsterArmour);p.alzursThunderCondition.turns=d.default.playerRunic,p.deathfireGraspCondition.active=!1,null!=e?((0,r.log)("You summon <i>Alzur's Thunder</i> for "+e+" damage!","ps-thunder"),b(e)):(0,r.log)("You missed Alzur's Thunder!","miss-player"),C(e)},P=function(){d.default.playerMana=d.default.playerMana-50,s.DEV&&(console.log("@DeathfireGrasp"),console.log("Active: "+p.deathfireGraspCondition.active));var e=void 0;if(1==p.deathfireGraspCondition.active){var a=(0,o.bonus)(d.default.playerRunic,2);e=(0,o.attack)(10,d.default.playerHitChanceModifier,a,1,d.default.monsterArmour)}else e=(0,o.attack)(10,d.default.playerHitChanceModifier,0,1,d.default.monsterArmour);p.deathfireGraspCondition.active=!0,null!=e?((0,r.log)("You invoke <i>Malevolence</i> for "+e+" damage!","ps-grasp"),b(e)):(0,r.log)("You missed Malevolence!","miss-player"),C(e)},S=function(){d.default.playerMana=d.default.playerMana-25;var e=(0,o.bonus)(d.default.playerRunic,2);p.runicEchoesCondition.active=!0,p.runicEchoesCondition.bonusArmour=e,d.default.playerArmour=d.default.playerArmour+e,(0,r.log)("You cast <i>Runic Echoes</i> and boost armour by "+e+"!","ps-echoes"),C()},_=new tingle.modal({footer:!0,stickyFooter:!1,closeMethods:["button","escape"],closeLabel:"Close",cssClass:["custom-class-1","custom-class-2"],onOpen:function(){},onClose:function(){},beforeClose:function(){return!0}}),x=new tingle.modal({footer:!0,stickyFooter:!1,closeMethods:["button","escape"],closeLabel:"Close",cssClass:["custom-class-1","custom-class-2"],onOpen:function(){},onClose:function(){},beforeClose:function(){return!0}}),I=new tingle.modal({footer:!0,stickyFooter:!1,closeMethods:["button","escape"],closeLabel:"Close",cssClass:["custom-class-1","custom-class-2"],onOpen:function(){},onClose:function(){},beforeClose:function(){return!0}}),L=new tingle.modal({footer:!0,stickyFooter:!1,closeMethods:["button","escape"],closeLabel:"Close",cssClass:["custom-class-1","custom-class-2"],onOpen:function(){},onClose:function(){},beforeClose:function(){return!0}}),q=function(){if(s.DEV&&console.log("@Advance"),d.default.playerLevel=d.default.playerLevel+1,d.default.playerLevel>10)throw new Error("playerLevel exceeds 10. No more monsters");var e=m[d.default.playerLevel];"weapon"===e.type&&(_.addFooterBtn(e.name,"spell-equipment wand-button",function(){(0,c.selectWeapon)(e.name),E(),_.close()}),_.setContent(c.wand_desc[e.desc])),"amulet"===e.type&&(x.addFooterBtn(e.name,"spell-amulet wand-button",function(){(0,c.selectAmulet)(e.name),E(),x.close()}),x.setContent(c.amulet_desc[e.desc])),"trinket"===e.type&&(I.addFooterBtn(e.name,"spell-trinket wand-button",function(){(0,c.selectTrinket)(e.name),E(),I.close()}),I.setContent(c.trinket_desc[e.desc])),e.gold>0?(d.default.gold+=e.gold,(0,r.log)("Loot: "+e.name+" ("+e.type+") and "+e.gold+" gold.","victory")):(0,r.log)("Loot: "+e.name+" ("+e.type+").","victory"),A=O(d.default.playerLevel),d.default.monsterHealth=A.monsterHealth,d.default.monsterDamage=A.monsterDamage,d.default.monsterArmour=A.monsterArmour,d.default.monsterName=A.name,d.default.monsterRage=0,$("#monster-graphic").addClass("animated zoomOut"),$("#monster-graphic").attr("src",A.src),setTimeout(function(){$("#monster-graphic").removeClass("animated zoomOut")},750),E()},O=function(e){switch(e){case 0:return f;case 1:return g;case 2:return h;case 3:return y;default:return console.log("@Error at getNextMonster"),g}},G=function(){var e=(0,o.roll)(10)+10;d.default.playerHealth+e>100?d.default.playerHealth=100:d.default.playerHealth+=e;var a=parseInt(c.potions[0].cost);d.default.gold-=a,L.close(),(0,r.log)("You drink a Health Potion and heal for "+e+"!","ps"),C()};$(".character-selection").hide(),function(e){switch(D(),H(),e){case"warrior":case"ranger":break;case"mage":d.default.playerClass="mage",w(),M();break;default:console.log("Error in init")}E()}("mage")}]);
//# sourceMappingURL=entry.bundle.js.map