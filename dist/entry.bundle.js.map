{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/stats.js","webpack:///./src/conditions.js","webpack:///./src/dev.js","webpack:///./src/log.js","webpack:///./src/rollattack.js","webpack:///./src/equipment.js","webpack:///./src/check.js","webpack:///./src/disable.js","webpack:///./src/core.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","playerHealth","playerArmour","playerDamage","playerRunic","playerMana","playerHitChanceModifier","playerLevel","playerClass","playerMaxMana","monsterHealth","monsterArmour","monsterDamage","monsterRage","monsterName","gold","alzursThunderCondition","turns","deathfireGraspCondition","active","runicEchoesCondition","bonusArmour","sapphireAmuletCondition","defensePotionCondition","accuracyPotionCondition","bonus","runicPotionCondition","dwarfTankCondition","playerDisadvantage","monsterDead","DEV","log","message","style","logStyle","console","styleHandler","logSize","$","children","length","prepared","addClass","prepend","last","remove","_dev","_conditions","throwIfMissing","Error","roll","max","Math","floor","random","runic","b","attack","arguments","undefined","playerDamageModifier","playerMultiplier","extra","result","hit","hitSecond","pureAttack","getRandomInt","_stats","armourIcon","runicIcon","manaIcon","oak_wand_desc","selectWeapon","weapon","Stats","ebony_wand_desc","sapphire_amulet_desc","wand_desc","selectAmulet","amulet","emerald_amulet_desc","magical_stick_desc","amulet_desc","selectTrinket","trinket","cursed_locket_desc","ancient_coin_desc","trinket_desc","potions","desc","icon","cost","id","getGold","setShopItem","potionName","potionDescription","ra","potionCost","shopDesc","document","createElement","classList","add","potion","innerText","description","button","setAttribute","shopItem","appendChild","getElementById","_log","manaCheck","spellCallback","costCheck","buyPotion","disable","prop","enable","_rollattack","_disable","_check","_equipment","mageItem","type","chicken","src","turn","this","basicAttack","playerHealthHelper","endTurnMonster","goblin","names","goblinSpit","dwarf","dwarfSmash","dwarfTank","ent","growth","vine","monsterHealthHelper","advance","currentMonster","endTurn","updateStats","setTimeout","removeClass","mageInit","weaponModal","setContent","addFooterBtn","close","amuletModal","trinketModal","shopModal","forEach","addEventListener","buyHealth","buyDefense","buyAccuracy","buyPp","buyRunic","setFooterContent","open","parseInt","disabled","playerTurnBasicAttack","scorch","alzurs_thunder","deathfire_grasp","runic_echoes","text","tippyInit","title","tippy","amuletTip","tippyMage","damageIcon","basicAttackTip","monsterInit","base","bonusRes","total","tingle","modal","footer","stickyFooter","closeMethods","closeLabel","cssClass","onOpen","onClose","beforeClose","item","getNextMonster","attr","level","hide","init"],"mappings":"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","file":"entry.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","export default {\n  playerHealth: 0,\n  playerArmour: 0,\n  playerDamage: 0,\n  playerRunic: 0,\n  playerMana: 0,\n  playerHitChanceModifier: 0,\n  playerLevel: 0,\n  playerClass: 'null',\n  playerMaxMana: 100,\n  monsterHealth: 0,\n  monsterArmour: 0,\n  monsterDamage: 0,\n  monsterRage: 0,\n  monsterName: null,\n  gold: 100,\n}","export const alzursThunderCondition = {\n  turns: 0,\n}\n\nexport const deathfireGraspCondition = {\n  active: false,\n}\n\nexport const runicEchoesCondition = {\n  active: false,\n  bonusArmour: 0,\n}\n\nexport const sapphireAmuletCondition = {\n  active: false\n}\n\nexport const defensePotionCondition = {\n  turns: 0,\n  bonusArmour: 0,\n  active: false,\n}\n\nexport const accuracyPotionCondition = {\n  turns: 0,\n  bonus: 0,\n  active: false,\n}\n\nexport const runicPotionCondition = {\n  turns: 0,\n  bonus: 0,\n  active: false,\n}\n\n// Monster spells\n\nexport const dwarfTankCondition = {\n  active: false,\n  bonusArmour: 0,\n}\n\nexport const playerDisadvantage = {\n  active: true,\n}\n\nexport const monsterDead = {\n  active: false,\n}","export const DEV = true;","const styleHandler = function(style) {\n  switch(style) {\n    // Monster basic\n    case 'mb':\n    return 'log log-monster-basic animated slideInDown';\n\n    case 'ms':\n    return 'log log-monster-spell animated bounceIn';\n\n    case 'miss':\n    return 'log log-miss animated slideInDown';\n\n    case 'miss-player':\n    return 'log log-player-miss animated slideInDown';\n\n    case 'info':\n    return 'log log-info animated slideInDown';\n\n    case 'victory':\n    return 'log log-victory animated bounceInDown';\n\n    case 'defeat':\n    return 'log log-defeat animated bounceInDown';\n\n    case 'pb':\n    return 'log log-player-basic animated slideInDown';\n\n    case 'ps':\n    return 'log log-player-spell animated bounceIn';\n\n    case 'ps-scorch':\n    return 'log log-player-spell animated tada';\n\n    case 'ps-thunder':\n    return 'log log-player-spell animated flash';\n\n    case 'ps-grasp':\n    return 'log log-player-spell animated swing';\n\n    case 'ps-echoes':\n    return 'log log-player-spell animated slideInDown';\n\n    default:\n    console.log('Error in styleHandler');\n    break;\n  }\n}\n\nexport const log = function(message, style) {\n  let logStyle = styleHandler(style);\n  let logSize = $('.list').children().length;\n  let logMessage = '<li>' + message + '</li>';\n  let prepared = $(logMessage).addClass(logStyle);  \n  if (logSize < 8) {    \n    $('ul.list').prepend(prepared);\n  }\n  else {\n    $('.list li').last().remove();\n    $('ul.list').prepend(prepared);\n  }\n\n}","import { DEV } from './dev';\nimport { alzursThunderCondition, playerDisadvantage } from './conditions';\n\nconst throwIfMissing = () => { throw new Error('Missing Paramater') };\n\n// Returns result of random 1 to n.\nexport const roll = function(n) {\n  let min = 1;\n  let max = Math.floor(n);\n  let result = Math.floor(Math.random() * (max - min + 1)) + min;\n  return result;\n}\n\n// Returns bonus of runic d n\nexport const bonus = function(runic, n) {\n  let b = 0;\n  for (let i = 0; i < runic; i++) {\n    b = b + roll(n);\n  }\n  return b;\n}\n\n// Returns result of damage or null, considers conditions.\nexport const attack = function(playerDamage = throwIfMissing(), playerHitChanceModifier = throwIfMissing(), playerDamageModifier = throwIfMissing(), playerMultiplier = throwIfMissing(), monsterArmour = throwIfMissing()) {\n\n  let extra = 0;\n\n  if (alzursThunderCondition.turns > 0) {\n    extra = extra + roll(4);\n    alzursThunderCondition.turns--;\n  }\n\n  if (DEV) {\n    console.log('@Attack')\n    console.log('Damage: ' + playerDamage + ' HitChance: ' + playerHitChanceModifier + ' DamageMod ' + playerDamageModifier + ' Multiplier: ' + playerMultiplier + ' Armour: ' + monsterArmour);\n    console.log('Extra Spell Damage: ' + extra);\n  }\n\n  let result = 0;\n  let hit = roll(20) + playerHitChanceModifier;\n\n  if (playerDisadvantage.active === true) {\n    let hitSecond = roll(20) + playerHitChanceModifier;\n\n    if (DEV) {\n      console.log(`Disadvantaged - hit: ${hit}, hitSecond: ${hitSecond}`);\n    }\n\n    if (hitSecond < hit) {\n      hit = hitSecond;\n    }\n    playerDisadvantage.active = false;\n  }\n\n  if (hit >= monsterArmour) {\n    for (let i = 0; i < playerMultiplier; i++) {\n      result += roll(playerDamage);\n    }\n    result += playerDamageModifier;    \n    return result + extra;\n  }\n  return result = null;\n}\n\n// Returns result of damage or null, does not consider any conditions.\nexport const pureAttack = function(playerDamage, playerHitChanceModifier, playerDamageModifier, playerMultiplier, monsterArmour) {\n\n  if (DEV) {\n    console.log('@PureAttack');\n    console.log('Damage: ' + playerDamage + ' HitChance: ' + playerHitChanceModifier + ' DamageMod ' + playerDamageModifier + ' Multiplier: ' + playerMultiplier + ' Armour: ' + monsterArmour);    \n  }\n\n  let result = 0;\n  let hit = roll(20) + playerHitChanceModifier;  \n  if (hit >= monsterArmour) {\n    for (let i = 0; i < playerMultiplier; i++) {\n      result += roll(playerDamage);\n    }\n    result += playerDamageModifier;    \n    return result;\n  }\n  return result = null;\n}\n\n// Returns random int. Utility function.\nexport const getRandomInt = function(max) {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n","import Stats from './stats';\nimport { sapphireAmuletCondition } from './conditions';\nimport { roll } from './rollattack';\n\nconst armourIcon = '<span class=\"ra ra-shield colour-ac\"></span>';\nconst damageIcon = '<span class=\"ra ra-sword colour-damage-tip\"></span>';\nconst runicIcon = '<span class=\"ra ra-crystals colour-runic-tip\"></span>';\nconst manaIcon = '<span class=\"ra ra-lightning-bolt colour-mana\"></span>';\n\nexport const selectWeapon = function(weapon) {\n  switch(weapon) {\n    case 'Oak Wand':\n    Stats.playerRunic = 2;\n    Stats.playerHitChanceModifier = 0;\n    break;\n\n    case 'Ebony Wand':\n    Stats.playerRunic = 3;\n    Stats.playerHitChanceModifier = 2;\n    break;\n\n    case 'Elder Wand':\n    Stats.playerRunic = 4;\n    Stats.playerHitChanceModifier = 3;\n    break;\n\n    default:\n    throw new Error('Error at selectWeapon');\n    break;\n  }\n}\n\nconst oak_wand_desc = '<h2>Equip Wand</h2> <b>Oak Wand</b>: +2 to ' + runicIcon + ' . <br>';\nconst ebony_wand_desc = '<b>Ebony Wand</b>: +2 to hit chance,  +3 to ' + runicIcon + ' . <br>';\nconst elder_wand_desc = '<b>Elder Wand</b>: +3 to hit chance,  +4 to ' + runicIcon + ' . <br>';\n\nexport const wand_desc = [oak_wand_desc, oak_wand_desc + ebony_wand_desc, oak_wand_desc + ebony_wand_desc + elder_wand_desc];\n\nexport const selectAmulet = function(amulet) {\n  switch(amulet) {\n    case 'None':\n    sapphireAmuletCondition.active = false;\n    break;\n\n    case 'Sapphire Amulet':\n    sapphireAmuletCondition.active = true;\n    break;\n\n    case 'Emerald Amulet':\n    sapphireAmuletCondition.active = false;\n    Stats.playerArmour = Stats.playerArmour + 2;\n    break;\n\n    case 'Ruby Amulet':\n    break;\n\n    default:\n    throw new Error('Error at selectAmulet');\n    break;\n  }\n}\n\nconst sapphire_amulet_desc = '<h2>Equip Amulet</h2> <b>Sapphire Amulet</b>: +25 to maximum ' + manaIcon + '.<br>';\nconst emerald_amulet_desc = '<b>Emerald Amulet</b>: +2 to ' + armourIcon + '.<br>';\nconst ruby_amulet_desc = '<b>Ruby Amulet</b>: +15% lifesteal. <br>';\n\nexport const amulet_desc = [sapphire_amulet_desc, sapphire_amulet_desc + emerald_amulet_desc, sapphire_amulet_desc + emerald_amulet_desc + ruby_amulet_desc];\n\nexport const selectTrinket = function(trinket) {\n  switch(trinket) {\n    case 'None':\n\n    break;\n\n    case 'Magical Stick':\n    \n    break;\n\n    case 'Cursed Locket':\n\n    break;\n\n    case 'Ancient Coin':\n    break;\n\n\n    case 'Null Sphere':\n    break;\n\n    default:\n    throw new Error('Error at selectTrinket');\n    break;\n  }\n}\n\nconst magical_stick_desc = '<h2>Equip Trinket</h2> <b>Slightly Magical Stick</b>: +1 to ' + runicIcon + '.<br>';\nconst cursed_locket_desc = '<b>Susannah\\'s Cursed Locket</b>: +2 to ' + runicIcon + ' but -2 to ' + armourIcon + '.<br>';\nconst ancient_coin_desc = '<b>Ancient Coin</b>: +3 to ' + runicIcon + ' and ' + damageIcon + ' but -5 to ' + armourIcon +'.<br>';\nconst null_sphere_desc = '<b>Null Sphere</b>: -25 % to ' + manaIcon + ' cost. <br>';\n\nexport const trinket_desc = [magical_stick_desc, magical_stick_desc + cursed_locket_desc, magical_stick_desc + cursed_locket_desc + ancient_coin_desc, magical_stick_desc + cursed_locket_desc + ancient_coin_desc + null_sphere_desc];\n\nexport const potions = [\n  { \n    name: 'Healing Potion',\n    desc: 'Heals for 1d10 + 10 HP.',\n    icon: 'ra-heart-bottle',\n    style: 'potion-health',\n    cost: '15',\n    id: 'buy-health'\n  },\n  { \n    name: 'Accuracy Potion',\n    desc: 'Increases hit chance by 1d4 for next 4 turns.',\n    icon: 'ra-corked-tube',\n    style: 'potion-accuracy',\n    cost: '25',\n    id: 'buy-accuracy',\n  },\n  { \n    name: 'Defense Potion',\n    desc: 'Increases AC by 1d4 + 2 for next 4 turns.',\n    icon: 'ra-round-bottom-flask',\n    style: 'potion-defense',\n    cost: '35',\n    id: 'buy-defense',\n  },\n  { \n    name: 'PP Potion',\n    desc: 'Restores 75 PP.',\n    icon: 'ra-bubbling-potion',\n    style: 'potion-pp',\n    cost: '50',\n    id: 'buy-pp',\n  },\n  { \n    name: 'Runic Potion',\n    desc: 'Grants 1d2 + 2 bonus Runic for next 4 turns.',\n    icon: 'ra-fizzing-flask',\n    style: 'potion-runic',\n    cost: '75',\n    id: 'buy-runic',\n  },\n];\n\nexport const getGold = () => {\n  return '<div>Current gold: ' + Stats.gold +'</div>';\n}\n\nexport const setShopItem = (potionName, potionDescription, ra, style, potionCost, id) => {\n  let shopDesc = document.createElement('div');\n  shopDesc.classList.add('shop-desc');\n  \n  let potion = document.createElement('p');\n  potion.innerText = potionName + ': ';\n  \n  let description = document.createElement('p');\n  description.innerText = potionDescription\n\n  let icon = document.createElement('span');\n  icon.classList.add('ra');\n  icon.classList.add(ra);\n  icon.classList.add(style);\n  icon.classList.add('shop-icon');\n  \n  let cost = document.createElement('p');\n  cost.innerText = potionCost + ' gold.';\n\n  let button = document.createElement('button');\n  button.innerText = 'Buy';\n  button.classList.add('spell-potion');\n  button.setAttribute('id', id);\n\n  let shopItem = document.createElement('div');\n  shopItem.classList.add('shop-item');\n\n  potion.appendChild(description);\n  shopDesc.appendChild(potion);\n\n  shopItem.appendChild(icon);\n  shopItem.appendChild(shopDesc);\n  shopItem.appendChild(cost);\n  shopItem.appendChild(button);\n\n  const shop = document.getElementById('shop');\n  shop.appendChild(shopItem);\n}\n\n","import Stats from './stats';\nimport { log } from './log';\nimport { DEV } from './dev';\n\nexport const manaCheck = function(cost, spellCallback) {\n  if(DEV) {\n    console.log('mana: ' + Stats.playerMana + ' cost: ' + cost);\n  }\n  \n  if (Stats.playerMana < cost) {\n    log('Not enough PP to cast.', 'info');\n  } else {    \n    spellCallback();\n  }\n}\n\nexport const costCheck = (cost, buyPotion, potionName) => {\n  if (Stats.gold < cost) {\n    log (`Not enough gold to buy ${potionName}`);\n  }\n  else {\n    Stats.gold = Stats.gold - cost;\n    buyPotion();\n  }\n}","export const disable = function () {\n  $('.basic-attack').prop('disabled', true);\n  $('.q').prop('disabled', true);\n  $('.w').prop('disabled', true);\n  $('.e').prop('disabled', true);\n  $('.r').prop('disabled', true);\n  $('#equipment-weapon').prop('disabled', true);\n  $('#equipment-amulet').prop('disabled', true);\n  $('#equipment-trinket').prop('disabled', true);\n  $('#equipment-shop').prop('disabled', true);\n};\n\nexport const enable = function () {\n  $('.basic-attack').prop('disabled', false);\n  $('.q').prop('disabled', false);\n  $('.w').prop('disabled', false);\n  $('.e').prop('disabled', false);\n  $('.r').prop('disabled', false);\n  $('#equipment-weapon').prop('disabled', false);\n  $('#equipment-amulet').prop('disabled', false);\n  $('#equipment-trinket').prop('disabled', false);\n  $('#equipment-shop').prop('disabled', false);\n};","// Open Live-reload in dev env.\n// Webpack - load in modules when needed.\n// Refactor html\n\nimport { roll, attack, pureAttack, bonus } from './rollattack';\nimport { log } from './log';\nimport { disable, enable } from './disable';\nimport { DEV } from './dev';\nimport Stats from './stats';\nimport { manaCheck } from './check';\nimport {\n  selectWeapon,\n  selectAmulet,\n  selectTrinket,\n  wand_desc,\n  amulet_desc,\n  trinket_desc,\n  shop,\n  potions,\n  setShopItem,\n  getGold,\n} from './equipment';\nimport {\n  alzursThunderCondition,\n  deathfireGraspCondition,\n  runicEchoesCondition,\n  sapphireAmuletCondition,\n  dwarfTankCondition,\n  monsterDead,\n  playerDisadvantage,\n  defensePotionCondition,\n  accuracyPotionCondition,\n  runicPotionCondition\n} from './conditions';\n\n\nif (DEV) {\n  log('BUILD ALPHA 0.2.26 - Amulet, Trinket, Wand', 'info');\n}\n\n// Add items for other classes. Desc refers to array in equipment.js\nconst mageItem = [\n  { name: 'Oak Wand', type: 'weapon', gold: 1, desc: 0 },\n  { name: 'Sapphire Amulet', type: 'amulet', gold: 1, desc: 0 },\n  { name: 'Magical Stick', type: 'trinket', gold: 1, desc: 0 },\n  { name: 'Ebony Wand', type: 'weapon', gold: 1, desc: 1 },\n  { name: 'Emerald Amulet', type: 'amulet', gold: 1, desc: 1 },\n  { name: 'Cursed Locket', type: 'trinket', gold: 1, desc: 1 },\n  { name: 'Elder Wand', type: 'weapon', gold: 1, desc: 2 },\n  { name: 'Ruby Amulet', type: 'amulet', gold: 1, desc: 2 },\n  { name: 'Ancient Coin', type: 'trinket', gold: 1, desc: 2 },\n  { name: 'Null Sphere', type: 'trinket', gold: 1, desc: 3 },\n];\n\nconst chicken = {\n  name: 'Cuck, the Chicken',\n  monsterHealth: 10,\n  monsterArmour: 0,\n  monsterDamage: 2,\n  monsterRage: 0,\n  src: 'res/mobs/chicken.png',\n  turn() {\n    this.basicAttack();\n  },\n  basicAttack() {\n    const result = pureAttack(Stats.monsterDamage, 0, 0, 1, Stats.playerArmour);\n    if (result != null) {\n      playerHealthHelper(result);\n      log(`Chicken hits for ${result} damage!`, 'mb');\n    } else {\n      log('Chicken missed.', 'miss');\n    }\n    endTurnMonster(result);\n  },\n};\n\nconst goblin = {\n  name: 'Wormface, the Goblin',\n  monsterHealth: 20,\n  monsterArmour: 4,\n  monsterDamage: 4,\n  monsterRage: 0,\n  src: 'res/mobs/goblin.png',\n  names: ['Wormface', 'Grubhead', 'Fartbreath', 'Poopnose', 'Wormhair'],\n  turn() {\n    const result = roll(100);       \n    if (DEV) {\n      console.log('@GoblinTurn');\n      console.log('Goblin Abilty Chance ' + result);\n    }\n\n    result > 75 ? this.goblinSpit() : this.basicAttack();\n  },\n  basicAttack() {\n    const result = pureAttack(Stats.monsterDamage, 0, 0, 1, Stats.playerArmour);\n    if (result != null) {\n      playerHealthHelper(result);\n      log('Goblin hits for ' + result + ' damage!', 'mb');\n    } else {\n      log('Goblin missed.', 'miss');\n    }\n    endTurnMonster(result);\n  },\n  goblinSpit() {\n    let result = pureAttack(Stats.monsterDamage, 1, 0, 1, Stats.playerArmour);\n    if (result != null) {\n      playerHealthHelper(result);\n      log('Goblin uses <i>Goblin Spit</i> for ' + result + ' damage!', 'ms');\n    } else {\n      log('Goblin missed.', 'miss');\n    }\n    endTurnMonster(result);\n  }\n}\n\nconst dwarf = {\n  name: 'Gimli, the Dwarf',\n  monsterHealth: 30,\n  monsterArmour: 8,\n  monsterDamage: 6,\n  monsterRage: 0,\n  src: 'res/mobs/dwarf.png',\n  turn() {\n    if (Stats.monsterRage > 40) {\n      if(DEV) {\n        console.log('@Dwarf Rage')\n      }\n      Stats.monsterRage = 0;\n      this.dwarfSmash();\n    } else {\n      Stats.monsterRage = Stats.monsterRage + 10;\n      let result = roll(100);\n      if (DEV) {\n        console.log('@DwarfTurn');\n        console.log('Dwarf ability chance ' + result);\n      }\n      if (result > 75) { \n        this.dwarfTank();\n      } else {\n        this.basicAttack();\n      }    \n    }\n  },\n  basicAttack() {\n    let result = pureAttack(Stats.monsterDamage, 0, 0, 1, Stats.playerArmour);\n    if (result != null) {\n      playerHealthHelper(result);\n      log('Dwarf hits for ' + result + ' damage!', 'mb');\n    } else {\n      log('Dwarf missed.', 'miss');\n    }\n    endTurnMonster(result);\n  },\n  dwarfTank() {\n    dwarfTankCondition.bonusArmour = 4;\n    dwarfTankCondition.active = true;\n    Stats.monsterArmour = Stats.monsterArmour + dwarfTankCondition.bonusArmour;\n\n    log('Dwarf uses <i>Dwarven Resilience</i> and buffs AC by 4!', 'ms');\n    endTurnMonster();\n  },\n  dwarfSmash() {\n    let result = pureAttack(Stats.monsterDamage + 4, 0, 0, 1, Stats.playerArmour);\n    if (result != null) {\n      playerHealthHelper(result);\n      log('Dwarf uses <i>Dwarven Smash</i> for ' + result + ' damage!', 'ms');\n    } else {\n      log('Dwarf missed.', 'miss');\n    }\n    endTurnMonster(result);\n  }\n}\n\nconst ent = {\n  name: 'Radagast, the Ent',\n  monsterHealth: 40,\n  monsterArmour: 6,\n  monsterDamage: 10,\n  monsterRage: 0,\n  src: 'res/mobs/ent.png',\n  turn() {\n    if (Stats.monsterRage > 50) {\n      this.growth();\n    } \n    else {\n      let result = roll(100);\n      if (result > 50) {\n        this.vine();\n      }\n      else {\n        this.basicAttack();\n      }  \n    }\n  },\n  basicAttack() {\n    Stats.monsterRage += 20;\n    let result = pureAttack(Stats.monsterDamage, 0, 0, 1, Stats.playerArmour);\n    if (result != null) {\n      playerHealthHelper(result);\n      log('Ent hits for ' + result + ' damage!', 'mb');\n    } \n    else {\n      log('Ent missed.', 'miss');\n    }\n    endTurnMonster(result);\n  },\n  growth() {\n    // Chance of not using growth when rage > 50\n\n    let result = roll(2);\n    if (Stats.monsterRage === 100){\n      result = 2;\n    }\n    if (result === 2) {\n      let extra = (Stats.monsterRage / 10);\n      Stats.monsterHealth = Stats.monsterHealth + extra\n\n      if (DEV) {\n        console.log(`Extra: ${extra}`);\n      }\n\n      Stats.monsterRage = 0;\n      log(`Ent uses <i>Growth</i> and heals for ${extra} damage!`,'ms');\n      endTurnMonster();\n    }\n    else {\n      this.basicAttack();\n    }\n  },\n  vine() {\n    Stats.monsterRage += 20;\n    playerDisadvantage.active = true;\n    log('Ent uses <i>Vine Trip</i> and makes you disadvantaged for next turn!', 'ms');\n    endTurnMonster();\n  },\n}\n\nconst monsterHealthHelper = function(result) {\n  if (DEV) {\n    console.log('@monsterHealthHelper result:' + result);\n  }\n\n  if(Stats.monsterHealth - result <= 0) {\n    Stats.monsterHealth = 0;\n    log('You have slain ' + Stats.monsterName + '!', 'victory');\n    advance();\n\n    monsterDead.active = true;    \n\n  } else {    \n    Stats.monsterHealth = Stats.monsterHealth - result;\n  }  \n};\n\nconst playerHealthHelper = (result) => {\n  if(Stats.playerHealth - result <= 0) {\n    Stats.playerHealth = 0;\n    log('You died to ' + currentMonster.name + '!', 'ms');\n  } else {\n    Stats.playerHealth = Stats.playerHealth - result;\n  } \n}\n\nconst endTurn = function(result) {\n  if (result) {\n    $('.monster-health').addClass('animated jello');\n  }\n\n  if (runicEchoesCondition.active === true || defensePotionCondition.active === true) {\n    $('.player-armour').addClass('colour-mana-add');\n  }\n\n  if (dwarfTankCondition.active == true) {\n    dwarfTankCondition.active = false;\n    Stats.monsterArmour = Stats.monsterArmour - dwarfTankCondition.bonusArmour;\n  }\n  \n  $('.player-graphic').addClass('poke-right');\n\n  if (monsterDead.active == true) {\n    $('.monster-graphic').addClass('spawn');\n    monsterDead.active = false;\n  } else {\n    $('.monster-graphic').addClass('monster-flail');\n  }  \n\n  if (sapphireAmuletCondition.active == true) {\n    Stats.playerMaxMana = 125;\n  } else {\n    Stats.playerMaxMana = 100;\n  }\n  \n  if (Stats.playerMana + 25 >= Stats.playerMaxMana) {\n    Stats.playerMana = Stats.playerMaxMana;\n  } else {\n    Stats.playerMana = Stats.playerMana + 25;\n    $('.player-mana').addClass('colour-mana-add');\n  }\n\n  updateStats();\n\n  disable();\n\n  // Remove animation classes.\n\n  setTimeout(() => {\n    $('.monster-health').removeClass('animated jello');\n  }, 500);\n\n  setTimeout(() => {\n    $('.player-graphic').removeClass('poke-right');\n    $('.monster-graphic').removeClass('monster-flail');\n    $('.monster-graphic').removeClass('spawn');\n  }, 500);\n\n  setTimeout(() => {\n    $('.player-mana').removeClass('colour-mana-add');\n    $('.player-armour').removeClass('colour-mana-add');\n  }, 1000);\n\n\n  setTimeout(() => {\n    currentMonster.turn();         \n  }, 1500);\n}\n\nconst endTurnMonster = function(result) {\n  if (result) {\n    $('.player-health').addClass('animated jello');\n  }\n\n  if(Stats.monsterRage > 0) {\n    $('.monster-rage').addClass('colour-rage-add');\n  }\n  \n  if (dwarfTankCondition.active == true) {\n    $('.monster-armour').addClass('colour-rage-add');\n  }\n\n  if (runicEchoesCondition.active == true) {\n    Stats.playerArmour = Stats.playerArmour - runicEchoesCondition.bonusArmour;\n    runicEchoesCondition.active = false;\n  }\n\n  if (defensePotionCondition.turns > 0) {\n    defensePotionCondition.turns = defensePotionCondition.turns - 1;\n  }\n\n  if (defensePotionCondition.turns === 0 && defensePotionCondition.active) {\n    defensePotionCondition.active = false;\n    Stats.playerArmour = Stats.playerArmour - defensePotionCondition.bonusArmour;\n  }\n\n  if (accuracyPotionCondition.turns > 0) {\n    accuracyPotionCondition.turns = accuracyPotionCondition.turns - 1;\n  }\n\n  if (accuracyPotionCondition.turns === 0 && accuracyPotionCondition.active) {\n    accuracyPotionCondition.active = false;\n    Stats.playerHitChanceModifier -= accuracyPotionCondition.bonus;\n  }\n\n  if (runicPotionCondition.turns > 0) {\n    runicPotionCondition.turns -= 1;\n  }\n\n  if (runicPotionCondition.turns === 0 && runicPotionCondition.active) {\n    runicPotionCondition.active = false;\n    Stats.playerRunic -= runicPotionCondition.bonus;\n  }\n\n  $('.monster-graphic').addClass('poke-left');\n  $('.player-graphic').addClass('player-flail');\n\n  updateStats();\n  setTimeout(() => {\n    $('.player-health').removeClass('animated jello');\n    $('.monster-armour').removeClass('colour-rage-add');\n    $('.monster-rage').removeClass('colour-rage-add');\n  }, 500);\n  setTimeout(() => {\n    $('.monster-graphic').removeClass('poke-left');\n    $('.player-graphic').removeClass('player-flail');\n  }, 750);\n\n  setTimeout(() => {\n    enable();\n  }, 500);    \n}\n\n// Must Define After Monster, but before Basic Attack\n\nlet currentMonster;\n\nconst playerTurnBasicAttack = function() {\n\n  deathfireGraspCondition.active = false;\n\n  let result = attack(Stats.playerDamage, Stats.playerHitChanceModifier, 0, 1, Stats.monsterArmour);\n  if (result != null) {\n    log('You hit for ' + result + ' damage!', 'pb');\n    monsterHealthHelper(result);\n  } else {\n    log('You missed.', 'miss-player');\n  }\n  endTurn(result);\n}\n\nconst init = function (mode) {\n\n  tippyInit();\n  monsterInit();\n\n  switch(mode) {\n    case 'warrior':\n    break;\n\n    case 'ranger':\n    break;\n\n    case 'mage':\n    Stats.playerClass = 'mage';\n    mageInit();\n    tippyMage();    \n    break;\n\n    default:\n    console.log('Error in init');\n  }\n  updateStats();\n}\n\nconst mageInit = function () {\n  Stats.playerHealth = 100;\n  Stats.playerDamage = 10;\n  Stats.playerArmour = 8;\n  Stats.playerRunic = 2;\n  Stats.playerMana = 100;\n\n  $('.q').addClass('spell spell-dragon-breath');\n  $('.qi').addClass('ra ra-dragon-breath icon');\n\n  $('.w').addClass('spell spell-lightning-trio');\n  $('.wi').addClass('ra ra-lightning-trio icon');\n\n  $('.e').addClass('spell spell-frostfire');\n  $('.ei').addClass('ra ra-frostfire icon');\n\n  $('.r').addClass('spell spell-fire-shield');\n  $('.ri').addClass('ra ra-fire-shield icon');\n\n  weaponModal.setContent(wand_desc[0]);\n  weaponModal.addFooterBtn('Oak Wand', 'spell-equipment wand-button', function() {\n    selectWeapon('Oak Wand');\n    updateStats();\n    weaponModal.close();\n  });\n\n  amuletModal.setContent('<h2>Select Amulet</h2><p>You don\\'t have any amulets yet.');\n  amuletModal.addFooterBtn('None', 'spell-amulet', function() {\n    selectAmulet('None');\n    updateStats();\n    amuletModal.close();\n  });\n\n  trinketModal.setContent('<h2>Select Trinket</h2><p>You don\\'t have any trinkets yet.');\n  trinketModal.addFooterBtn('None', 'spell-trinket', function() {\n    updateStats();\n    trinketModal.close();\n  });\n\n  // Shop logic starts. Move to general init later.\n\n  shopModal.setContent('<div class=\"shop-interface\" id=\"shop\"></div>');\n  potions.forEach((potion) => {\n    setShopItem(potion.name, potion.desc, potion.icon, potion.style, potion.cost, potion.id);\n  });\n\n  document.getElementById('buy-health').addEventListener('click', () => {\n    buyHealth();\n  });\n\n  document.getElementById('buy-defense').addEventListener('click', () => {\n    buyDefense();\n  });\n\n  document.getElementById('buy-accuracy').addEventListener('click', () => {\n    buyAccuracy();\n  });\n\n  document.getElementById('buy-pp').addEventListener('click', () => {\n    buyPp();\n  });\n\n  document.getElementById('buy-runic').addEventListener('click', () => {\n    buyRunic();\n  });\n\n  shopModal.setFooterContent(getGold());\n\n  document.getElementById('equipment-weapon').addEventListener('click', () => {\n    weaponModal.open();\n  });\n\n  document.getElementById('equipment-amulet').addEventListener('click', () => {\n    amuletModal.open();\n  });\n\n  document.getElementById('equipment-trinket').addEventListener('click', () => {\n    trinketModal.open();\n  });\n\n  document.getElementById('equipment-shop').addEventListener('click', () => {\n    potions.forEach((potion) => {\n      let button = document.getElementById(potion.id);\n      if (Stats.gold < parseInt(potion.cost)) {        \n        button.disabled = true;\n      }\n      else {\n        button.disabled = false;\n      }\n    });\n    shopModal.setFooterContent(getGold());\n    shopModal.open();\n  });\n\n  document.getElementById('basic-attack').addEventListener('click', () => {\n    playerTurnBasicAttack();\n  });\n\n  document.getElementById('q').addEventListener('click', () => {\n    manaCheck(75, scorch);\n  });\n\n  document.getElementById('w').addEventListener('click', () => {\n    manaCheck(100, alzurs_thunder);\n  });\n\n  document.getElementById('e').addEventListener('click', () => {\n    manaCheck(50, deathfire_grasp);\n  });\n\n  document.getElementById('r').addEventListener('click', () => {\n    manaCheck(25, runic_echoes);\n  });\n}\n\nconst updateStats = function () {\n  $('.player-health').text(Stats.playerHealth);\n  $('.player-damage').text(Stats.playerDamage);\n  $('.player-armour').text(Stats.playerArmour);\n  $('.player-runic').text(Stats.playerRunic);\n  $('.player-mana').text(Stats.playerMana);\n\n  $('.monster-health').text(Stats.monsterHealth);\n  $('.monster-armour').text(Stats.monsterArmour);\n  $('.monster-damage').text(Stats.monsterDamage);\n  $('.monster-rage').text(Stats.monsterRage);\n  $('.monster-label').text(Stats.monsterName);\n}\n\nconst tippyInit = function () {\n  const title = 'title';\n\n  const armourIcon = '<span class=\"ra ra-shield colour-ac\"></span>';\n  const damageIcon = '<span class=\"ra ra-sword colour-damage-tip\"></span>';\n  const runicIcon = '<span class=\"ra ra-crystals colour-runic-tip\"></span>';\n\n  const playerDamageTip = 'Damage attribute affects basic attack and spell damage.';\n  $('.player-damage-tip').prop(title, playerDamageTip);\n  tippy('.player-damage-tip');  \n\n  const playerArmourTip = 'Armour class represents how hard it is for opponents to land an attack or spell on you.';\n  $('.player-armour-tip').prop(title, playerArmourTip);  \n  tippy('.player-armour-tip');  \n\n  const playerRunicTip = 'Runic attribute improves spells and their effects.';\n  $('.player-runic-tip').prop(title, playerRunicTip);  \n  tippy('.player-runic-tip');  \n\n  const playerManaTip = 'PP represents the cost for casting spells. 25 PP is recharged per turn.';\n  $('.player-mana-tip').prop(title, playerManaTip);\n  tippy('.player-mana-tip');\n\n  const monsterRageTip = 'Rage is aquired over time, and allows Monsters to have additional spells and effects.';\n  $('.monster-rage-tip').prop(title, monsterRageTip);\n  tippy('.monster-rage-tip');\n\n  const weaponTip = 'Switch Weapon - Weapons affect your hit chance.';\n  $('#equipment-weapon').prop(title, weaponTip);\n  tippy('#equipment-weapon');\n\n  const amuletTip = `Switch Amulet - Amulets can affect ${damageIcon} and ${armourIcon} .`;\n  $('#equipment-amulet').prop(title, amuletTip);\n  tippy('#equipment-amulet');\n\n  const trinketTip = 'Switch Trinket - Trinkets affect all attributes.';\n  $('#equipment-trinket').prop(title, trinketTip);\n  tippy('#equipment-trinket');\n\n  const shopTip = 'Browse Shop - Buy potions with gold.';\n  $('#equipment-shop').prop(title, shopTip);\n  tippy('#equipment-shop');\n}\n\nconst tippyMage = function() {  \n  const title = 'title';\n\n  const armourIcon = '<span class=\"ra ra-shield colour-ac\"></span>';\n  const damageIcon = '<span class=\"ra ra-sword colour-damage-tip\"></span>';\n  const runicIcon = '<span class=\"ra ra-crystals colour-runic-tip\"></span>';\n\n  const basicAttackTip = '<b>Basic Attack</b> - Deal 1d' + Stats.playerDamage + ' ' + damageIcon + ' .';\n  $('.basic-attack').prop(title, basicAttackTip);\n  tippy('.basic-attack');\n\n  const mageSpellQ = '<b>Scorch (75 PP)</b> - Ignore 1d2 ' + armourIcon + ' and deal 1d10 ' + damageIcon + '. Ignore an additional 1d2 ' + armourIcon + ' per ' + runicIcon + ' level.';\n  $('.q').prop(title, mageSpellQ);\n  tippy('.q');\n\n  const mageSpellW = '<b>Alzur\\'s Thunder (100 PP)</b> - Deal 2d4 ' + damageIcon + ' and apply <i>Shocked</i>. Shock deals bonus 1d4 ' + damageIcon + ' for ' + runicIcon + ' turns.';\n  $('.w').prop(title, mageSpellW);\n  tippy('.w');\n\n  const mageSpellE = '<b>Malevolence (50 PP)</b> - Deal 1d10 ' + damageIcon + ' . Consecutive Malevolence casts deal bonus 1d2 ' + damageIcon + ' per ' + runicIcon + ' level.';\n  $('.e').prop(title, mageSpellE);\n  tippy('.e');\n\n  const mageSpellR = '<b>Runic Echoes (25 PP)</b> - Increase ' + armourIcon + ' by 1d2 per ' + runicIcon + ' level for the next turn.';\n  $('.r').prop(title, mageSpellR);\n  tippy('.r');\n}\n\nconst monsterInit = function() {\n  Stats.monsterArmour = chicken.monsterArmour;\n  Stats.monsterDamage = chicken.monsterDamage;\n  Stats.monsterHealth = chicken.monsterHealth;\n  Stats.monsterRage = 0;\n  Stats.monsterName = chicken.name;\n  currentMonster = chicken;\n}\n\nconst scorch = function() {\n\n  Stats.playerMana = Stats.playerMana - 75;\n\n  deathfireGraspCondition.active = false;\n\n  let base = roll(2);   \n  let bonusRes = bonus(Stats.playerRunic, 2);\n  let total = base + bonusRes;\n\n  if(DEV) {\n    console.log('Scorch base AC-ignore roll: ' + base);\n    console.log('Scorch bonus AC-ignore roll: ' + bonusRes);\n  }\n\n  let result = attack(10, Stats.playerHitChanceModifier, 0, 1, Stats.monsterArmour - total);\n\n  if(result != null) {\n    log('You <i>Scorch</i> for ' + result + ' damage!', 'ps-scorch');\n    monsterHealthHelper(result);\n    \n  } else {\n    log('You missed Scorch!', 'miss-player');\n  }\n  endTurn(result);\n}\n\nconst alzurs_thunder = function() {\n\n  Stats.playerMana = Stats.playerMana - 100;\n\n  if (DEV) {\n    console.log('@AlzursThunder');\n    console.log('Extra turns: ' + alzursThunderCondition.turns)\n  }\n\n  let result = attack(4, Stats.playerHitChanceModifier, 0, 2, Stats.monsterArmour);\n\n  alzursThunderCondition.turns = Stats.playerRunic;\n  deathfireGraspCondition.active = false;\n\n  if(result != null) {\n    log('You summon <i>Alzur\\'s Thunder</i> for ' + result + ' damage!', 'ps-thunder');\n    monsterHealthHelper(result);\n    \n  } else {\n    log('You missed Alzur\\'s Thunder!', 'miss-player');\n  }\n  endTurn(result);  \n}\n\nconst deathfire_grasp = function() {\n\n  Stats.playerMana = Stats.playerMana - 50;\n\n  if (DEV) {\n    console.log('@DeathfireGrasp');\n    console.log('Active: ' + deathfireGraspCondition.active);\n  }\n\n  let result;\n\n  if (deathfireGraspCondition.active == true) {\n    let bonusRes = bonus(Stats.playerRunic, 2);\n    result = attack(10, Stats.playerHitChanceModifier, bonusRes, 1, Stats.monsterArmour);\n\n  } else {\n    result = attack(10, Stats.playerHitChanceModifier, 0, 1, Stats.monsterArmour);\n  }\n  \n  deathfireGraspCondition.active = true;\n\n  if(result != null) {\n    log('You invoke <i>Malevolence</i> for ' + result + ' damage!', 'ps-grasp');\n    monsterHealthHelper(result);\n  } else {\n    log('You missed Malevolence!', 'miss-player');\n  }\n  endTurn(result);\n};\n\nconst runic_echoes = function() {\n\n  Stats.playerMana = Stats.playerMana - 25;\n\n  let bonusRes = bonus(Stats.playerRunic, 2);\n\n  runicEchoesCondition.active = true;\n  runicEchoesCondition.bonusArmour = bonusRes;\n\n  Stats.playerArmour = Stats.playerArmour + bonusRes;\n\n  log('You cast <i>Runic Echoes</i> and boost armour by ' + bonusRes + '!', 'ps-echoes');\n\n  endTurn();\n}\n\nconst weaponModal = new tingle.modal({\n  footer: true,\n  stickyFooter: false,\n  closeMethods: ['button', 'escape'],\n  closeLabel: \"Close\",\n  cssClass: ['custom-class-1', 'custom-class-2'],\n  onOpen: function() {\n      \n  },\n  onClose: function() {\n      \n  },\n  beforeClose: function() {\n      // here's goes some logic\n      // e.g. save content before closing the modal\n      return true; // close the modal\n  }\n});\n\nconst amuletModal = new tingle.modal({\n  footer: true,\n  stickyFooter: false,\n  closeMethods: ['button', 'escape'],\n  closeLabel: \"Close\",\n  cssClass: ['custom-class-1', 'custom-class-2'],\n  onOpen: function() {\n      \n  },\n  onClose: function() {\n      \n  },\n  beforeClose: function() {\n      return true;\n  }\n});\n\nconst trinketModal = new tingle.modal({\n  footer: true,\n  stickyFooter: false,\n  closeMethods: ['button', 'escape'],\n  closeLabel: \"Close\",\n  cssClass: ['custom-class-1', 'custom-class-2'],\n  onOpen: function() {\n      \n  },\n  onClose: function() {\n      \n  },\n  beforeClose: function() {\n      return true;\n  }\n});\n\nconst shopModal = new tingle.modal({\n  footer: true,\n  stickyFooter: false,\n  closeMethods: ['button', 'escape'],\n  closeLabel: \"Close\",\n  cssClass: ['custom-class-1', 'custom-class-2'],\n  onOpen: function() {\n      \n  },\n  onClose: function() {\n      \n  },\n  beforeClose: function() {\n      return true;\n  }\n});\n\n// Incomplete function. Add item types to this.\nconst advance = function() {\n  \n  if (DEV) {\n    console.log('@Advance');\n  }\n\n  Stats.playerLevel = Stats.playerLevel + 1;\n\n  // NEED TO ADD CHECK FOR LAST MONSTERS !! if (Stats.playerLevel > 10) or whatever.\n\n  if (Stats.playerLevel > 10) {\n    throw new Error('playerLevel exceeds 10. No more monsters');\n  }\n\n  let item = mageItem[Stats.playerLevel];\n\n  if (item.type === 'weapon') {\n    weaponModal.addFooterBtn(item.name, 'spell-equipment wand-button', () => {\n      selectWeapon(item.name);\n      updateStats();      \n      weaponModal.close();\n    });\n    \n    weaponModal.setContent(wand_desc[item.desc]);\n    \n  }\n\n  if (item.type === 'amulet') {\n    amuletModal.addFooterBtn(item.name, 'spell-amulet wand-button', () => {\n      selectAmulet(item.name);\n      updateStats();      \n      amuletModal.close();\n    });\n\n    amuletModal.setContent(amulet_desc[item.desc]);  \n  }\n\n  if (item.type === 'trinket') {\n    trinketModal.addFooterBtn(item.name, 'spell-trinket wand-button', () => {\n      selectTrinket(item.name);\n      updateStats();      \n      trinketModal.close();\n    });\n    trinketModal.setContent(trinket_desc[item.desc]);\n  }\n\n  // Handles gold income and logging. \n  if (item.gold > 0) {\n    Stats.gold += item.gold;\n    log('Loot: ' + item.name + ' (' + item.type + ') and ' + item.gold + ' gold.', 'victory');\n  } else {\n    log('Loot: ' + item.name + ' (' + item.type + ').', 'victory');\n  }\n\n  currentMonster = getNextMonster(Stats.playerLevel);\n\n  Stats.monsterHealth = currentMonster.monsterHealth;\n  Stats.monsterDamage = currentMonster.monsterDamage;\n  Stats.monsterArmour = currentMonster.monsterArmour;\n  Stats.monsterName = currentMonster.name;\n  Stats.monsterRage = 0;\n  $('#monster-graphic').addClass('animated zoomOut');\n  $('#monster-graphic').attr('src', currentMonster.src);\n  setTimeout(() => {\n    $('#monster-graphic').removeClass('animated zoomOut');\n  }, 750);\n\n  updateStats();\n}\n\nconst getNextMonster = function(level) {\n  switch(level) {\n    case 0:\n    return chicken;\n    break;\n\n    case 1:\n    return goblin;\n    break;\n\n    case 2:\n    return dwarf;\n    break;\n\n    case 3:\n    return ent;\n    break;\n\n    default:\n    console.log('@Error at getNextMonster');\n    return goblin;\n    break;\n  }\n}\n\nconst buyHealth = () => {\n  let result = roll(10) + 10;\n\n  if (Stats.playerHealth + result > 100) {\n    Stats.playerHealth = 100;\n  }\n  else {\n    Stats.playerHealth += result;\n  }\n\n  let cost = parseInt(potions[0].cost);\n  Stats.gold -= cost;\n  \n  shopModal.close();\n  log(`You drink a Health Potion and heal for ${result}!`,'ps');\n  endTurn();\n}\n\nconst buyAccuracy = () => {\n  let result = roll(4);\n\n  accuracyPotionCondition.bonus = result;\n  accuracyPotionCondition.turns = 4;\n  accuracyPotionCondition.active = true;\n\n  Stats.playerHitChanceModifier += result;\n\n  let cost = parseInt(potions[1].cost);\n  Stats.gold -= cost;\n\n  shopModal.close();\n  log(`You drink a Accuracy Potion and boost hit chance by ${result}!`, 'ps');\n  endTurn();\n\n}\n\nconst buyDefense = () => {\n  let result = roll(4) + 2;\n\n  defensePotionCondition.bonusArmour = result;\n  defensePotionCondition.turns = 4;\n  defensePotionCondition.active = true;\n\n  Stats.playerArmour += result;\n\n  if (DEV) console.log(`Result: ${result} Turns: ${defensePotionCondition.turns} Active: ${defensePotionCondition.active}`);\n\n  let cost = parseInt(potions[2].cost);\n  Stats.gold -= cost;\n\n  shopModal.close();\n  log(`You drink a Defense Potion and boost AC by ${result}!`, 'ps');\n  endTurn();\n\n}\n\nconst buyPp = () => {\n  let extra = 50;\n\n  if (sapphireAmuletCondition.active == true) {\n    Stats.playerMaxMana = 125;\n  } else {\n    Stats.playerMaxMana = 100;\n  }\n\n  if (DEV) console.log(`Extra: ${extra} PlayerMana: ${Stats.playerMana} PlayerMaxMana: ${Stats.playerMaxMana}`);\n\n  if (Stats.playerMana + extra > Stats.playerMaxMana) {\n    Stats.playerMana = Stats.playerMana;\n  }\n  else {\n    Stats.playerMana += extra;\n  }\n\n  let cost = parseInt(potions[3].cost);\n  Stats.gold -= cost;\n\n  shopModal.close();\n  log(`You drink a PP Potion and gain 75 mana!`, 'ps');\n  endTurn();\n}\n\nconst buyRunic = () => {\n  let result = roll(2) + 2;\n  \n  runicPotionCondition.bonus = result;\n  runicPotionCondition.turns = 4;\n  runicPotionCondition.active = true;\n\n  Stats.playerRunic += result;\n\n  let cost = parseInt(potions[4].cost);\n  Stats.gold -= cost;\n\n  shopModal.close();\n  log(`You drink a Runic Potion and boost Runic by ${result}!`, 'ps');\n  endTurn();\n  \n}\n\n$(\".character-selection\").hide();\n\ninit('mage');\n\n// Turn simulator\n\n// let turnCount = 0;\n// const sim = setInterval(function(){  \n//   if(turnCount < 10) {\n//     turnCount++;\n//     playerTurnBasicAttack();\n//   } else {\n//     clearInterval(sim);\n//   }  \n// }, 2500);\n\n// Skip to monsters. Function still +1 to level \n// Stats.playerLevel = 2;\n// advance();"],"sourceRoot":""}